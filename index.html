<!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="bottom-nav" id="bottomNav">
        <div class="nav-items">
            <div class="nav-item active" onclick="showSection('drinking')">
                <span class="icon">ğŸ»</span>
                <span>ê°œì”¨ë¶€ë„</span>
            </div>
            <div class="nav-item" onclick="showSection('friends')">
                <span class="icon">ğŸ‚</span>
                <span>ê°€ì¡±ë“¤</span>
            </div>
            <div class="nav-item" onclick="showSection('gallery')">
                <span class="icon">ğŸ“¸</span>
                <span>íˆ¬í‘œ</span>
            </div>
            <div class="nav-item" onclick="showSection('diary')">
                <span class="icon">ğŸ“</span>
                <span>ì¼ê¸°</span>
            </div>
            <div class="nav-item" onclick="showSection('quotes')">
                <span class="icon">ğŸ’¬</span>
                <span>ëª…ì–¸</span>
            </div>
        </div>
    </div>

    <!-- ìˆ ì¹œêµ¬ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="drinkModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ» ê°œì”¨ë¶€ë„ ìˆ ìë¦¬ ê¸°ë¡</h3>
                <button class="close-btn" onclick="closeDrinkModal()">&times;</button>
            </div>
            
            <div class="input-group">
                <label>ë‚ ì§œ:</label>
                <input type="date" id="drinkDate" />
            </div>
            
            <div class="input-group">
                <label>í•¨ê»˜ ë§ˆì‹  ê°œì”¨ë¶€ë„ ì¹œêµ¬ë“¤:</label>
                <div class="friend-selector" id="friendSelector">
                    <!-- ì¹œêµ¬ ì„ íƒ ì²´í¬ë°•ìŠ¤ë“¤ì´ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <div class="input-group">
                <label>ê°œì”¨ë¶€ë„ ë©”ëª¨:</label>
                <textarea id="drinkMemo" placeholder="ì–´ë””ì„œ ë­˜ ë§ˆì…¨ëŠ”ì§€, ê°œì”¨ë¶€ë„í–ˆë˜ ì¼ ë“±..."></textarea>
            </div>
            
            <button class="btn btn-primary" onclick="addDrinkLog()">ğŸ» ê°œì”¨ë¶€ë„ ê¸°ë¡í•˜ê¸°</button>
        </div>
    </div>

    <!-- íˆ¬í‘œ ì‚¬ì§„ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="galleryPhotoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ“¸ ê°œì”¨ë¶€ë„ ì‚¬ì§„ íˆ¬í‘œ ì¶”ê°€</h3>
                <button class="close-btn" onclick="closeGalleryPhotoModal()">&times;</button>
            </div>
            
            <div class="input-group">
                <label>ì‚¬ì§„ ì œëª©:</label>
                <input type="text" id="galleryPhotoTitle" placeholder="ê°œì”¨ë¶€ë„í•œ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”!" />
            </div>
            
            <div class="input-group">
                <label>ì‚¬ì§„ ì—…ë¡œë“œ:</label>
                <input type="file" id="votePhoto" accept="image/*" onchange="previewVotePhoto()" style="margin-bottom: 10px;" />
                <div id="votePhotoPreview" class="hidden">
                    <img id="votePhotoImg" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 10px;" />
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="addVotePhoto()">ğŸ—³ï¸ ê°œì”¨ë¶€ë„ ì‚¬ì§„ ì¶”ê°€</button>
        </div>
    </div>

    <!-- ì¼ê¸° ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="diaryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ“ ê°œì”¨ë¶€ë„ ì¼ê¸° ì“°ê¸°</h3>
                <button class="close-btn" onclick="closeDiaryModal()">&times;</button>
            </div>
            
            <div class="input-group">
                <label>ë‚ ì§œ:</label>
                <input type="date" id="diaryDate" />
            </div>
            
            <div class="input-group">
                <label>ì œëª©:</label>
                <input type="text" id="diaryTitle" placeholder="ì˜¤ëŠ˜ ì œëª©ì€?" />
            </div>
            
            <div class="input-group">
                <label>ì˜¤ëŠ˜ ë­í–ˆë‚˜ìš”?:</label>
                <textarea id="diaryContent" placeholder="ê°œì”¨ë¶€ë„í•œ í•˜ë£¨ë¥¼ ê°„ë‹¨í•˜ê²Œ ì¨ë³´ì„¸ìš”..." rows="5"></textarea>
            </div>
            
            <button class="btn btn-primary" onclick="addDiary()">ğŸ“ ì¼ê¸° ì €ì¥</button>
        </div>
    </div>

    <!-- ëª…ì–¸ ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="quoteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ’¬ ê°œì”¨ë¶€ë„ ëª…ì–¸ ì¶”ê°€</h3>
                <button class="close-btn" onclick="closeQuoteModal()">&times;</button>
            </div>
            
            <div class="input-group">
                <label>ëª…ì–¸:</label>
                <textarea id="quoteText" placeholder="ê°œì”¨ë¶€ë„ ë ˆì „ë“œ ë°œì–¸ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            </div>
            
            <div class="input-group">
                <label>ë°œì–¸ì:</label>
                <select id="quoteSpeaker">
                    <option value="">ì¹œêµ¬ ì„ íƒ</option>
                </select>
            </div>
            
            <button class="btn btn-primary" onclick="addQuote()">ğŸ’¬ ê°œì”¨ë¶€ë„ ëª…ì–¸ ì¶”ê°€</button>
        </div>
    </div>

    <script>
        console.log('ğŸ”¥ ê°œì”¨ë¶€ë„ ì›”ë“œ ë¡œë”© ì‹œì‘!');

        // ë°ì´í„° ì €ì¥ì†Œ
        let friendsData = [];
        let drinkLogs = [];
        let votePhotos = [];
        let diaryEntries = [];
        let quotes = [];

        // ë°ì´í„° ì €ì¥/ë¡œë“œ í•¨ìˆ˜
        function saveData() {
            try {
                localStorage.setItem('friendsData', JSON.stringify(friendsData));
                localStorage.setItem('drinkLogs', JSON.stringify(drinkLogs));
                localStorage.setItem('votePhotos', JSON.stringify(votePhotos));
                localStorage.setItem('diaryEntries', JSON.stringify(diaryEntries));
                localStorage.setItem('quotes', JSON.stringify(quotes));
                console.log('âœ… ë°ì´í„° ì €ì¥ ì™„ë£Œ');
            } catch(e) {
                console.log('localStorage ì‚¬ìš© ë¶ˆê°€ - ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤');
            }
        }
        
        function loadData() {
            try {
                friendsData = JSON.parse(localStorage.getItem('friendsData')) || [];
                drinkLogs = JSON.parse(localStorage.getItem('drinkLogs')) || [];
                votePhotos = JSON.parse(localStorage.getItem('votePhotos')) || [];
                diaryEntries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
                quotes = JSON.parse(localStorage.getItem('quotes')) || [];
                console.log('âœ… ë°ì´í„° ë¡œë“œ ì™„ë£Œ');
            } catch(e) {
                console.log('localStorage ì‚¬ìš© ë¶ˆê°€ - ê¸°ë³¸ ë°ì´í„°ë¡œ ì‹œì‘í•©ë‹ˆë‹¤');
            }
        }

        // ì¹œêµ¬ ë°ì´í„° ì´ˆê¸°í™”
        function initializeFriends() {
            if (friendsData.length === 0) {
                const realFriends = [
                    { id: 1, nickname: 'YSN JOKER', emoji: 'ğŸƒ', realName: 'ê°•ì •í˜„', birthday: '0807' },
                    { id: 2, nickname: 'ë³µì¿ ë ˆ', emoji: 'ğŸ²', realName: 'ë³µì§€í˜„', birthday: '0115' },
                    { id: 3, nickname: 'ê°í•´í‚¹(ìˆ™ì£¼)', emoji: 'ğŸ¦ ', realName: 'ê³½ë„ìœ¤', birthday: '0731' },
                    { id: 4, nickname: 'ë…¸ì†Œë§¨', emoji: 'ğŸ¯', realName: 'ì‹¬ì¬í˜„', birthday: '1005' },
                    { id: 5, nickname: 'ì¾Œê±¸ê·¼ìœ¡ë§¨', emoji: 'ğŸ’ª', realName: 'ì–‘ê·œí˜„', birthday: '0419' },
                    { id: 6, nickname: '26ë…„ 4ì›”', emoji: 'ğŸ“…', realName: 'ì´í•™ì¤€', birthday: '0222' },
                    { id: 7, nickname: 'í¬ì¤€ì•„ ë„ˆë§Œ ë¯¿ëŠ”ë‹¤', emoji: 'ğŸ™', realName: 'í•œí¬ì¤€', birthday: '1221' },
                    { id: 8, nickname: 'ëˆ„êµ¬ì„¸ìš”', emoji: 'â“', realName: 'ì „ìƒí˜', birthday: '0818' },
                    { id: 9, nickname: 'ë¯¸ë‚˜ë¦¬', emoji: 'ğŸŒ¿', realName: 'ì–‘ì •í›„', birthday: '1018' },
                    { id: 10, nickname: 'í™©ëŒ€í‘œ', emoji: 'ğŸ‘”', realName: 'í™©ìŠ¹í•˜', birthday: '0711' },
                    { id: 11, nickname: 'ì² êµ¬', emoji: 'ğŸ”©', realName: 'ì´ì„œí˜„', birthday: '0124' },
                    { id: 12, nickname: 'ê°•ìˆœê±´', emoji: 'ğŸ—ï¸', realName: 'ê°•ìˆœê±´', birthday: '0418' },
                    { id: 13, nickname: 'ìœ¤í¬íƒœ', emoji: 'ğŸŒŸ', realName: 'ìœ¤í¬íƒœ', birthday: '0115' },
                    { id: 14, nickname: 'ë°•ì£¼í˜¸', emoji: 'âš½', realName: 'ë°•ì£¼í˜¸', birthday: '0601' },
                    { id: 15, nickname: 'ì‹ ë¯¼í˜¸', emoji: 'ğŸ­', realName: 'ì‹ ë¯¼í˜¸', birthday: '0303' }
                ];
                
                friendsData = realFriends;
                saveData();
            }
            
            loadFriends();
            generateFriendSelector();
            updateSelects();
            updateNextBirthday();
        }

        // ì§„ì… í•¨ìˆ˜
        function enterTheFuckingWorld() {
            console.log('ğŸš€ ê°œì”¨ë¶€ë„ ì›”ë“œ ì…ì¥ ë²„íŠ¼ í´ë¦­ë¨!');
            
            try {
                document.getElementById('mainScreen').style.display = 'none';
                document.getElementById('mainContainer').classList.add('active');
                document.getElementById('mainContainer').style.display = 'block';
                document.getElementById('topNav').classList.add('active');
                document.getElementById('bottomNav').classList.add('active');
                
                // ë°ì´í„° ì´ˆê¸°í™”
                loadData();
                initializeFriends();
                loadDrinkLogs();
                loadVoteGallery();
                loadDiaryEntries();
                loadQuotes();
                updateRanking();
                updateThisMonthBirthdays();
                updateFunStats();
                
                console.log('ğŸ‰ ê°œì”¨ë¶€ë„ ì›”ë“œ ì…ì¥ ì™„ë£Œ!');
                
            } catch (error) {
                console.error('ì…ì¥ ì¤‘ ì—ëŸ¬:', error);
                alert('ê°œì”¨ë¶€ë„! ì—ëŸ¬ë‚¬ë„¤ìš” ã…‹ã…‹ ìƒˆë¡œê³ ì¹¨ í•´ë³´ì„¸ìš”');
            }
        }

        // ì„¹ì…˜ ì „í™˜
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.getElementById(sectionName).classList.add('active');
            event.target.closest('.nav-item').classList.add('active');
            
            // íŠ¹ì • ì„¹ì…˜ë³„ ì¶”ê°€ ë¡œì§
            if (sectionName === 'friends') {
                updateThisMonthBirthdays();
                updateFunStats();
            }
        }

        // ìƒì¼ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜ ê³„ì‚°
        function getDaysUntilBirthday(birthday) {
            const today = new Date();
            const currentYear = today.getFullYear();
            const month = parseInt(birthday.substring(0, 2)) - 1;
            const day = parseInt(birthday.substring(2, 4));
            
            let birthdayThisYear = new Date(currentYear, month, day);
            
            if (birthdayThisYear < today) {
                birthdayThisYear = new Date(currentYear + 1, month, day);
            }
            
            const diffTime = birthdayThisYear - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            return diffDays;
        }

        // ë‹¤ìŒ ìƒì¼ ì—…ë°ì´íŠ¸
        function updateNextBirthday() {
            const nextBirthdayContainer = document.getElementById('nextBirthday');
            if (!nextBirthdayContainer) return;
            
            const birthdayList = friendsData.map(friend => ({
                ...friend,
                daysUntil: getDaysUntilBirthday(friend.birthday)
            })).sort((a, b) => a.daysUntil - b.daysUntil);
            
            const nextBirthday = birthdayList[0];
            
            if (nextBirthday.daysUntil === 0) {
                nextBirthdayContainer.innerHTML = `ğŸ‰ ì˜¤ëŠ˜ì€ ${nextBirthday.nickname}ì˜ ìƒì¼!`;
                nextBirthdayContainer.style.color = '#ff6b6b';
                nextBirthdayContainer.style.fontWeight = '600';
            } else {
                nextBirthdayContainer.innerHTML = `ğŸ‚ ë‹¤ìŒ ìƒì¼: ${nextBirthday.nickname} (${nextBirthday.daysUntil}ì¼ í›„)`;
            }
        }

        // ì¹œêµ¬ ëª©ë¡ ë¡œë“œ
        function loadFriends() {
            const container = document.getElementById('friendsList');
            if (!container) return;
            
            container.innerHTML = '';
            
            friendsData.forEach(friend => {
                const friendElement = document.createElement('div');
                friendElement.className = 'friend-item';
                friendElement.onclick = () => alert(`${friend.nickname} (${friend.realName})\nìƒì¼ê¹Œì§€ ${getDaysUntilBirthday(friend.birthday)}ì¼`);
                
                const daysUntilBirthday = getDaysUntilBirthday(friend.birthday);
                
                friendElement.innerHTML = `
                    <span class="friend-emoji">${friend.emoji}</span>
                    <div class="friend-name">${friend.nickname}</div>
                    <div class="friend-status">ìƒì¼ê¹Œì§€ ${daysUntilBirthday}ì¼</div>
                `;
                
                container.appendChild(friendElement);
            });
        }

        // ì´ë²ˆë‹¬ ìƒì¼ì ì—…ë°ì´íŠ¸
        function updateThisMonthBirthdays() {
            const container = document.getElementById('thisMonthBirthdays');
            if (!container) return;
            
            const currentMonth = new Date().getMonth() + 1;
            
            const thisMonthBirthdays = friendsData.filter(friend => {
                const friendMonth = parseInt(friend.birthday.substring(0, 2));
                return friendMonth === currentMonth;
            });
            
            if (thisMonthBirthdays.length === 0) {
                container.innerHTML = '<p style="text-align: center; margin: 0;">ì´ë²ˆë‹¬ì—ëŠ” ìƒì¼ìê°€ ì—†ì–´ìš”! ğŸˆ</p>';
            } else {
                container.innerHTML = thisMonthBirthdays.map(friend => {
                    const day = parseInt(friend.birthday.substring(2, 4));
                    const daysUntil = getDaysUntilBirthday(friend.birthday);
                    return `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.2);">
                            <span>${friend.emoji} ${friend.nickname}</span>
                            <span>${currentMonth}ì›” ${day}ì¼ ${daysUntil === 0 ? '(ì˜¤ëŠ˜!)' : `(${daysUntil}ì¼ í›„)`}</span>
                        </div>
                    `;
                }).join('');
            }
        }

        // ì¬ë¯¸ë‚œ í†µê³„ ì—…ë°ì´íŠ¸
        function updateFunStats() {
            const container = document.getElementById('funStats');
            if (!container) return;
            
            const stats = [
                `ğŸ» ì´ ê°œì”¨ë¶€ë„ ìˆ ìë¦¬: ${drinkLogs.length}íšŒ`,
                `ğŸ“¸ ì—…ë¡œë“œëœ ê°œì”¨ë¶€ë„ ì‚¬ì§„: ${votePhotos.length}ì¥`,
                `ğŸ“ ê°œì”¨ë¶€ë„ ì¼ê¸°: ${diaryEntries.length}ê°œ`,
                `ğŸ’¬ ê°œì”¨ë¶€ë„ ëª…ì–¸: ${quotes.length}ê°œ`,
                `ğŸ† ìµœë‹¤ ê°œì”¨ë¶€ë„ëŸ¬: ${getMostDrinkingFriend()}`
            ];
            
            container.innerHTML = stats.map(stat => 
                `<div style="padding: 8px 0; border-bottom: 1px solid #eee;">${stat}</div>`
            ).join('');
        }

        // ìµœë‹¤ ìˆ ì¹œêµ¬ ì°¾ê¸°
        function getMostDrinkingFriend() {
            if (drinkLogs.length === 0) return "ì•„ì§ ì—†ìŒ";
            
            const drinkCounts = {};
            drinkLogs.forEach(log => {
                log.participants.forEach(friendId => {
                    drinkCounts[friendId] = (drinkCounts[friendId] || 0) + 1;
                });
            });
            
            const topDrinkerId = Object.keys(drinkCounts).reduce((a, b) => 
                drinkCounts[a] > drinkCounts[b] ? a : b
            );
            
            const topDrinker = friendsData.find(f => f.id == topDrinkerId);
            return topDrinker ? `${topDrinker.nickname} (${drinkCounts[topDrinkerId]}íšŒ)` : "ì•„ì§ ì—†ìŒ";
        }

        // ëœë¤ ì¹œêµ¬ ë½‘ê¸°
        function pickRandomFriend() {
            const randomFriend = friendsData[Math.floor(Math.random() * friendsData.length)];
            document.getElementById('randomFriend').textContent = randomFriend.emoji;
            document.getElementById('randomFriendName').textContent = `ì˜¤ëŠ˜ ìˆ ê°’ ë‚¼ í˜¸êµ¬: ${randomFriend.nickname} ã…‹ã…‹ã…‹`;
        }

        // ì¹œêµ¬ë³„ ìˆ ì¹œêµ¬ íšŸìˆ˜ ê³„ì‚°
        function getDrinkCountForFriend(friendId) {
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            
            return drinkLogs.filter(log => {
                const logDate = new Date(log.date);
                return logDate.getMonth() === currentMonth && 
                       logDate.getFullYear() === currentYear &&
                       log.participants.includes(friendId);
            }).length;
        }

        // ë­í‚¹ ì—…ë°ì´íŠ¸
        function updateRanking() {
            const container = document.getElementById('drinkingRanking');
            if (!container) return;
            
            const drinkCounts = friendsData.map(friend => {
                const count = getDrinkCountForFriend(friend.id);
                return {
                    friend: friend,
                    count: count
                };
            }).sort((a, b) => b.count - a.count);
            
            container.innerHTML = '';
            
            if (drinkCounts.every(item => item.count === 0)) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">ì•„ì§ ê°œì”¨ë¶€ë„ ê¸°ë¡ì´ ì—†ì–´ìš”!</p>';
                return;
            }
            
            const rankingListDiv = document.createElement('div');
            rankingListDiv.className = 'ranking-list';
            
            drinkCounts.slice(0, 5).forEach((item, index) => {
                const rankElement = document.createElement('div');
                rankElement.className = 'ranking-item';
                
                const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰', '4ï¸âƒ£', '5ï¸âƒ£'];
                
                rankElement.innerHTML = `
                    <div class="rank-number">${index + 1}</div>
                    <div class="rank-emoji">${item.friend.emoji}</div>
                    <div class="rank-info">
                        <div class="rank-name">${item.friend.nickname}</div>
                        <div class="rank-count">ì´ë²ˆë‹¬ ${item.count}íšŒ</div>
                    </div>
                    <div style="font-size: 1.5rem;">${medals[index] || 'ğŸ…'}</div>
                `;
                
                rankingListDiv.appendChild(rankElement);
            });
            
            container.appendChild(rankingListDiv);
            
            // í†µê³„ ì—…ë°ì´íŠ¸
            const topCount = drinkCounts[0] ? drinkCounts[0].count : 0;
            document.getElementById('topDrinkerCount').textContent = topCount;
            document.getElementById('myDrinkCount').textContent = drinkCounts[0] ? drinkCounts[0].count : 0;
        }

        // ì¹œêµ¬ ì„ íƒê¸° ìƒì„±
        function generateFriendSelector() {
            const container = document.getElementById('friendSelector');
            if (!container) return;
            
            container.innerHTML = '';
            
            friendsData.forEach(friend => {
                const friendOption = document.createElement('div');
                friendOption.className = 'friend-checkbox';
                friendOption.onclick = () => toggleFriendSelection(friend.id);
                
                friendOption.innerHTML = `
                    <input type="checkbox" id="friend_${friend.id}" value="${friend.id}">
                    <span class="emoji">${friend.emoji}</span>
                    <span class="name">${friend.nickname}</span>
                `;
                
                container.appendChild(friendOption);
            });
        }

        // ì¹œêµ¬ ì„ íƒ í† ê¸€
        function toggleFriendSelection(friendId) {
            const checkbox = document.getElementById(`friend_${friendId}`);
            const container = checkbox.parentElement;
            
            checkbox.checked = !checkbox.checked;
            container.classList.toggle('selected', checkbox.checked);
        }

        // ì…€ë ‰íŠ¸ ë°•ìŠ¤ ì—…ë°ì´íŠ¸
        function updateSelects() {
            const selects = ['quoteSpeaker'];
            
            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (!select) return;
                
                const currentValue = select.value;
                
                while(select.children.length > 1) {
                    select.removeChild(select.lastChild);
                }
                
                friendsData.forEach(friend => {
                    const option = document.createElement('option');
                    option.value = friend.id;
                    option.textContent = friend.nickname;
                    select.appendChild(option);
                });
                
                select.value = currentValue;
            });
        }

        // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openDrinkModal() {
            document.getElementById('drinkModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            document.getElementById('drinkDate').value = new Date().toISOString().split('T')[0];
        }

        function closeDrinkModal() {
            document.getElementById('drinkModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            resetDrinkForm();
        }

        function resetDrinkForm() {
            document.getElementById('drinkDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('drinkMemo').value = '';
            
            document.querySelectorAll('.friend-checkbox').forEach(item => {
                item.classList.remove('selected');
                item.querySelector('input').checked = false;
            });
        }

        function addDrinkLog() {
            const date = document.getElementById('drinkDate').value;
            const memo = document.getElementById('drinkMemo').value;
            const selectedFriends = Array.from(document.querySelectorAll('.friend-checkbox.selected input'))
                .map(input => parseInt(input.value));
            
            if (!date || selectedFriends.length === 0) {
                alert('ë‚ ì§œì™€ ì¹œêµ¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const newLog = {
                id: Date.now(),
                date: date,
                participants: selectedFriends,
                memo: memo,
                timestamp: new Date().toISOString()
            };
            
            drinkLogs.unshift(newLog);
            saveData();
            
            loadDrinkLogs();
            updateRanking();
            loadFriends();
            updateThisMonthBirthdays();
            updateFunStats();
            closeDrinkModal();
        }

        function loadDrinkLogs() {
            const container = document.getElementById('drinkLogs');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (drinkLogs.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">ì•„ì§ ê°œì”¨ë¶€ë„ ê¸°ë¡ì´ ì—†ì–´ìš”! ì²« ê¸°ë¡ì„ ë‚¨ê²¨ë³´ì„¸ìš” ğŸ»</p>';
                return;
            }
            
            drinkLogs.slice(0, 10).forEach(log => {
                const logElement = document.createElement('div');
                logElement.className = 'drink-log';
                
                const participants = log.participants.map(id => {
                    const friend = friendsData.find(f => f.id === id);
                    return friend ? friend.nickname : 'ì•Œ ìˆ˜ ì—†ìŒ';
                });
                
                logElement.innerHTML = `
                    <button class="delete-btn" onclick="deleteDrinkLog(${log.id})" title="ì‚­ì œ">âœ•</button>
                    <div style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">${new Date(log.date).toLocaleDateString('ko-KR', { 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric',
                        weekday: 'short'
                    })}</div>
                    <div style="margin-bottom: 8px;">
                        ${participants.map(name => `<span style="background: linear-gradient(45deg, #4ecdc4, #44a08d); color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.75rem; font-weight: 500; margin-right: 5px; display: inline-block; margin-bottom: 5px;">${name}</span>`).join('')}
                    </div>
                    ${log.memo ? `<div style="margin-top: 8px; font-size: 0.9rem; padding-right: 30px;">${log.memo}</div>` : ''}
                `;
                
                container.appendChild(logElement);
            });
        }

        function deleteDrinkLog(logId) {
            if (confirm('ì •ë§ ì´ ê°œì”¨ë¶€ë„ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ì–´ìš”?')) {
                drinkLogs = drinkLogs.filter(log => log.id !== logId);
                saveData();
                loadDrinkLogs();
                updateRanking();
                loadFriends();
                updateFunStats();
            }
        }

        // íˆ¬í‘œ ê°¤ëŸ¬ë¦¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openGalleryPhotoModal() {
            document.getElementById('galleryPhotoModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeGalleryPhotoModal() {
            document.getElementById('galleryPhotoModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            resetVotePhotoForm();
        }

        function resetVotePhotoForm() {
            document.getElementById('galleryPhotoTitle').value = '';
            document.getElementById('votePhoto').value = '';
            document.getElementById('votePhotoPreview').classList.add('hidden');
        }

        function previewVotePhoto() {
            const file = document.getElementById('votePhoto').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('votePhotoImg').src = e.target.result;
                    document.getElementById('votePhotoPreview').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function addVotePhoto() {
            const title = document.getElementById('galleryPhotoTitle').value;
            const photoFile = document.getElementById('votePhoto').files[0];
            
            if (!title || !photoFile) {
                alert('ì œëª©ê³¼ ì‚¬ì§„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const newVotePhoto = {
                    id: Date.now(),
                    title: title,
                    photo: e.target.result,
                    votes: 0,
                    voters: [],
                    timestamp: new Date().toISOString()
                };
                
                votePhotos.unshift(newVotePhoto);
                saveData();
                
                loadVoteGallery();
                closeGalleryPhotoModal();
            };
            reader.readAsDataURL(photoFile);
        }

        function loadVoteGallery() {
            const container = document.getElementById('voteGallery');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (votePhotos.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">ê°œì”¨ë¶€ë„ íˆ¬í‘œ ì‚¬ì§„ì´ ì—†ì–´ìš”! ì²« ì‚¬ì§„ì„ ì˜¬ë ¤ë³´ì„¸ìš” ğŸ“¸</p>';
                return        /* ìˆ¨ê¹€ */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- ë©”ì¸ ìŠ¤í¬ë¦° -->
    <div class="main-screen" id="mainScreen">
        <div class="floating-emojis">
            <div class="floating-emoji">ğŸ»</div>
            <div class="floating-emoji">ğŸ¤®</div>
            <div class="floating-emoji">ğŸ¤£</div>
            <div class="floating-emoji">ğŸ”¥</div>
            <div class="floating-emoji">ğŸ’©</div>
        </div>
        
        <h1 class="main-title">ğŸ”¥ ê°œì”¨ë¶€ë„ ê°€ì¡± ğŸ”¥</h1>
        <p class="main-subtitle">ì›°ì»´íˆ¬ ë ˆì „ë“œ ì›”ë“œ ã…‹ã…‹ã…‹ã…‹</p>
        
        <div class="warning-box">
            <div class="warning-title">âš ï¸ ì…ì¥ ì „ ì£¼ì˜ì‚¬í•­ âš ï¸</div>
            <div class="warning-list">
                â€¢ í‘ì—­ì‚¬ ë…¸ì¶œ ê°ì˜¤í•˜ê³  ë“¤ì–´ì˜¤ì„¸ìš”<br>
                â€¢ ìˆ ë¨¹ê³  ì˜¬ë¦° ì‚¬ì§„ë“¤ ìˆìŒ ì£¼ì˜<br>
                â€¢ ë ˆì „ë“œ ëª…ì–¸ë“¤ ì‹¬ì¥ ì•½í•œ ë¶„ ì¶œì…ê¸ˆì§€<br>
                â€¢ íˆ¬í‘œ 1ë“±ì€ ê°œìª½íŒ” ê°ì˜¤í•˜ì„¸ìš”<br>
                â€¢ ê°œì”¨ë¶€ë„ ì •ì‹ ìœ¼ë¡œ ë¬´ì¥í•˜ì„¸ìš”
            </div>
        </div>
        
        <button class="enter-btn" onclick="enterTheFuckingWorld()">
            ğŸš€ ê°œì”¨ë¶€ë„ ì›”ë“œ ì…ì¥
        </button>
        
        <div class="debug-info">
            ë²„íŠ¼ ì•ˆë˜ë©´ ìƒˆë¡œê³ ì¹¨ ã„±ã„±<br>
            ì•„ë‹ˆë©´ ë¸Œë¼ìš°ì € ë°”ê¿”ë³´ì„¸ìš” ã…‹ã…‹
        </div>
    </div>

    <!-- ìƒë‹¨ ë„¤ë¹„ -->
    <div class="top-nav" id="topNav">
        <div class="logo">ğŸ”¥ ê°œì”¨ë¶€ë„ ì›”ë“œ</div>
        <div id="nextBirthday" style="font-size: 0.8rem; color: #666; text-align: center; flex: 1;">
            <!-- ë‹¤ìŒ ìƒì¼ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>
        <button class="menu-btn" onclick="alert('ê°œë°œì¤‘ì…ë‹ˆë‹¤ ã…‹ã…‹')">â˜°</button>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="container" id="mainContainer">
        
        <!-- ê°œì”¨ë¶€ë„ ì„¹ì…˜ -->
        <div id="drinking" class="section active">
            <h2 class="section-title">ğŸ» ê°œì”¨ë¶€ë„ ìˆ ìë¦¬ ê¸°ë¡</h2>
            
            <!-- ì´ë²ˆë‹¬ í†µê³„ -->
            <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                <h3 style="margin-bottom: 15px; text-align: center;">ğŸ† ì´ë²ˆë‹¬ ê°œì”¨ë¶€ë„í‚¹ ìˆœìœ„</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; text-align: center;">
                        <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 5px;" id="myDrinkCount">0</div>
                        <div style="font-size: 0.8rem; opacity: 0.9;">ë‚´ ê°œì”¨ë¶€ë„ íšŸìˆ˜</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; text-align: center;">
                        <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 5px;" id="topDrinkerCount">0</div>
                        <div style="font-size: 0.8rem; opacity: 0.9;">ê°œì”¨ë¶€ë„í‚¹ ê¸°ë¡</div>
                    </div>
                </div>
            </div>

            <!-- ë­í‚¹ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ¥‡ ì´ë²ˆë‹¬ ê°œì”¨ë¶€ë„ ìˆ í‚¹ ë­í‚¹</h3>
                <div id="drinkingRanking">
                    <!-- ë­í‚¹ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ìˆ ìë¦¬ ê¸°ë¡ -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ“ ê°œì”¨ë¶€ë„ ìˆ ìë¦¬ ê¸°ë¡</h3>
                    <button onclick="openDrinkModal()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì¶”ê°€</button>
                </div>
                <div id="drinkLogs">
                    <!-- ìˆ ìë¦¬ ê¸°ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ê°€ì¡±ë“¤ ì„¹ì…˜ -->
        <div id="friends" class="section">
            <h2 class="section-title">ğŸ‚ ê°œì”¨ë¶€ë„ ê°€ì¡±ë“¤</h2>
            
            <!-- ì´ë²ˆë‹¬ ìƒì¼ì -->
            <div class="card" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: white;">
                <h3 style="margin-bottom: 15px; text-align: center;">ğŸ‚ ì´ë²ˆë‹¬ ìƒì¼ìë“¤</h3>
                <div id="thisMonthBirthdays">
                    <!-- ì´ë²ˆë‹¬ ìƒì¼ìë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ê°€ì¡± ëª©ë¡ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ‘¥ ê°œì”¨ë¶€ë„ ê°€ì¡± ë©¤ë²„</h3>
                <div id="friendsList" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    <!-- ì¹œêµ¬ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ì¬ë¯¸ë‚œ í†µê³„ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ“Š ê°œì”¨ë¶€ë„ í†µê³„</h3>
                <div id="funStats">
                    <!-- í†µê³„ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ëœë¤ ì¹œêµ¬ ë½‘ê¸° -->
            <div class="card" style="text-align: center;">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ² ì˜¤ëŠ˜ ëˆ„ê°€ ìˆ ê°’ ë‚¼ê¹Œ? ã…‹ã…‹</h3>
                <div id="randomFriend" style="font-size: 3rem; margin: 20px 0;">ğŸ¯</div>
                <div id="randomFriendName" style="font-size: 1.2rem; font-weight: 600; margin-bottom: 15px;">ìˆ ê°’ ë‚¼ í˜¸êµ¬ë¥¼ ë½‘ì•„ë³´ì„¸ìš”!</div>
                <button class="btn btn-primary" onclick="pickRandomFriend()">ğŸ² í˜¸êµ¬ ë½‘ê¸°!</button>
            </div>
        </div>

        <!-- íˆ¬í‘œ ê°¤ëŸ¬ë¦¬ ì„¹ì…˜ -->
        <div id="gallery" class="section">
            <h2 class="section-title">ğŸ“¸ ê°œì”¨ë¶€ë„ íˆ¬í‘œ ê°¤ëŸ¬ë¦¬</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ† ê°œì”¨ë¶€ë„ ì‚¬ì§„ ë­í‚¹ (íˆ¬í‘œ)</h3>
                    <button onclick="openGalleryPhotoModal()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì‚¬ì§„ ì¶”ê°€</button>
                </div>
                <div id="voteGallery">
                    <!-- íˆ¬í‘œ ì‚¬ì§„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ì¼ê¸°ì¥ ì„¹ì…˜ -->
        <div id="diary" class="section">
            <h2 class="section-title">ğŸ“ ê°œì”¨ë¶€ë„ ì¼ê¸°ì¥</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ“– ì˜¤ëŠ˜ ë­í–ˆë‚˜ìš”?</h3>
                    <button onclick="openDiaryModal()" style="background: linear-gradient(45deg, #4ecdc4, #44a08d); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì¼ê¸° ì“°ê¸°</button>
                </div>
                <div id="diaryList">
                    <!-- ì¼ê¸°ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ëª…ì–¸ì§‘ ì„¹ì…˜ -->
        <div id="quotes" class="section">
            <h2 class="section-title">ğŸ’¬ ê°œì”¨ë¶€ë„ ëª…ì–¸ì§‘</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ’­ ë ˆì „ë“œ ëª…ì–¸ë“¤</h3>
                    <button onclick="openQuoteModal()" style="background: linear-gradient(45deg, #f093fb, #f5576c); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ëª…ì–¸ ì¶”ê°€</button>
                </div>
                <div id="quotesList">
                    <!-- ëª…ì–¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="bottom-nav" id="bottomNav">
        <div class="nav-items">
            <div class="nav-item active<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ğŸ”¥ ê°œì”¨ë¶€ë„ ê°€ì¡± ì›”ë“œ ğŸ”¥</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
            padding-bottom: 80px;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 107, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 107, 0.8); }
        }

        /* ë©”ì¸ ìŠ¤í¬ë¦° */
        .main-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
        }

        .floating-emojis {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-emoji {
            position: absolute;
            font-size: 2rem;
            animation: float 4s ease-in-out infinite;
        }

        .floating-emoji:nth-child(1) { top: 15%; left: 10%; animation-delay: 0s; }
        .floating-emoji:nth-child(2) { top: 25%; right: 15%; animation-delay: 1s; }
        .floating-emoji:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 2s; }
        .floating-emoji:nth-child(4) { top: 45%; right: 25%; animation-delay: 3s; }
        .floating-emoji:nth-child(5) { bottom: 20%; right: 10%; animation-delay: 4s; }

        .main-title {
            font-size: 3rem;
            font-weight: 900;
            color: white;
            text-shadow: 3px 3px 0px #ff6b6b, 6px 6px 0px #4ecdc4;
            margin-bottom: 1rem;
            animation: shake 2s ease-in-out infinite;
            z-index: 2;
            position: relative;
        }

        .main-subtitle {
            font-size: 1.3rem;
            color: white;
            margin-bottom: 2rem;
            font-weight: 600;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 2;
            position: relative;
        }

        .warning-box {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            border: 3px dashed #ff6b6b;
            z-index: 2;
            position: relative;
            max-width: 350px;
        }

        .warning-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #ff6b6b;
            margin-bottom: 15px;
        }

        .warning-list {
            font-size: 0.9rem;
            color: #333;
            line-height: 1.6;
            text-align: left;
        }

        .enter-btn {
            padding: 20px 50px;
            font-size: 1.4rem;
            font-weight: 900;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: glow 2s ease-in-out infinite;
            z-index: 2;
            position: relative;
            border: 3px solid white;
        }

        .enter-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .enter-btn:active {
            transform: scale(0.95);
        }

        .debug-info {
            margin-top: 15px;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.7);
            z-index: 2;
            position: relative;
        }

        /* ìƒë‹¨ ë„¤ë¹„ */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 20px;
            z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: none;
        }

        .top-nav.active {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ff6b6b;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .menu-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            display: none;
            padding: 20px 15px;
            max-width: 100%;
            margin: 0 auto;
        }

        .container.active {
            display: block;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 10px 0;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }

        .bottom-nav.active {
            display: block;
        }

        .nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.75rem;
            color: #666;
        }

        .nav-item.active {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
        }

        .nav-item .icon {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        /* ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .section {
            display: none;
            margin-top: 70px;
            margin-bottom: 20px;
        }

        .section.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
        }

        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }

        .btn:active {
            transform: scale(0.98);
        }

        /* ì¶”ê°€ ìŠ¤íƒ€ì¼ */
        .drink-log, .diary-item, .quote-item, .photo-item {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .friend-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .friend-item:active {
            transform: scale(0.95);
        }

        .friend-emoji {
            font-size: 2.5rem;
            margin-bottom: 8px;
            display: block;
        }

        .friend-name {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .friend-status {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .ranking-list {
            background: white;
            border-radius: 15px;
            overflow: hidden;
        }

        .ranking-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .ranking-item:last-child {
            border-bottom: none;
        }

        .rank-number {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ff6b6b;
            width: 30px;
        }

        .rank-emoji {
            font-size: 1.5rem;
            margin: 0 10px;
        }

        .rank-info {
            flex: 1;
        }

        .rank-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .rank-count {
            font-size: 0.8rem;
            color: #666;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255,0,0,0.8);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
            border: none;
            z-index: 10;
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #ff6b6b;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
        }

        .input-group input:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .friend-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .friend-checkbox {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .friend-checkbox.selected {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .friend-checkbox input[type="checkbox"] {
            display: none;
        }

        .friend-checkbox .emoji {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        .friend-checkbox .name {
            font-size: 0.8rem;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- ë©”ì¸ ìŠ¤í¬ë¦° -->
    <div class="main-screen" id="mainScreen">
        <div class="floating-emojis">
            <div class="floating-emoji">ğŸ»</div>
            <div class="floating-emoji">ğŸ¤®</div>
            <div class="floating-emoji">ğŸ¤£</div>
            <div class="floating-emoji">ğŸ”¥</div>
            <div class="floating-emoji">ğŸ’©</div>
        </div>
        
        <h1 class="main-title">ğŸ”¥ ê°œì”¨ë¶€ë„ ê°€ì¡± ğŸ”¥</h1>
        <p class="main-subtitle">ì›°ì»´íˆ¬ ë ˆì „ë“œ ì›”ë“œ ã…‹ã…‹ã…‹ã…‹</p>
        
        <div class="warning-box">
            <div class="warning-title">âš ï¸ ì…ì¥ ì „ ì£¼ì˜ì‚¬í•­ âš ï¸</div>
            <div class="warning-list">
                â€¢ í‘ì—­ì‚¬ ë…¸ì¶œ ê°ì˜¤í•˜ê³  ë“¤ì–´ì˜¤ì„¸ìš”<br>
                â€¢ ìˆ ë¨¹ê³  ì˜¬ë¦° ì‚¬ì§„ë“¤ ìˆìŒ ì£¼ì˜<br>
                â€¢ ë ˆì „ë“œ ëª…ì–¸ë“¤ ì‹¬ì¥ ì•½í•œ ë¶„ ì¶œì…ê¸ˆì§€<br>
                â€¢ íˆ¬í‘œ 1ë“±ì€ ê°œìª½íŒ” ê°ì˜¤í•˜ì„¸ìš”<br>
                â€¢ ê°œì”¨ë¶€ë„ ì •ì‹ ìœ¼ë¡œ ë¬´ì¥í•˜ì„¸ìš”
            </div>
        </div>
        
        <button class="enter-btn" onclick="enterTheFuckingWorld()">
            ğŸš€ ê°œì”¨ë¶€ë„ ì›”ë“œ ì…ì¥
        </button>
        
        <div class="debug-info">
            ë²„íŠ¼ ì•ˆë˜ë©´ ìƒˆë¡œê³ ì¹¨ ã„±ã„±<br>
            ì•„ë‹ˆë©´ ë¸Œë¼ìš°ì € ë°”ê¿”ë³´ì„¸ìš” ã…‹ã…‹
        </div>
    </div>

    <!-- ìƒë‹¨ ë„¤ë¹„ -->
    <div class="top-nav" id="topNav">
        <div class="logo">ğŸ”¥ ê°œì”¨ë¶€ë„ ì›”ë“œ</div>
        <button class="menu-btn" onclick="alert('ê°œë°œì¤‘ì…ë‹ˆë‹¤ ã…‹ã…‹')">â˜°</button>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="container" id="mainContainer">
        
        <!-- ê°œì”¨ë¶€ë„ ì„¹ì…˜ -->
        <div id="drinking" class="section active">
            <h2 class="section-title">ğŸ» ê°œì”¨ë¶€ë„ ìˆ ìë¦¬ ê¸°ë¡</h2>
            
            <!-- ì´ë²ˆë‹¬ í†µê³„ -->
            <div class="card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                <h3 style="margin-bottom: 15px; text-align: center;">ğŸ† ì´ë²ˆë‹¬ ê°œì”¨ë¶€ë„í‚¹ ìˆœìœ„</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; text-align: center;">
                        <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 5px;" id="myDrinkCount">0</div>
                        <div style="font-size: 0.8rem; opacity: 0.9;">ë‚´ ê°œì”¨ë¶€ë„ íšŸìˆ˜</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; text-align: center;">
                        <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 5px;" id="topDrinkerCount">0</div>
                        <div style="font-size: 0.8rem; opacity: 0.9;">ê°œì”¨ë¶€ë„í‚¹ ê¸°ë¡</div>
                    </div>
                </div>
            </div>

            <!-- ë­í‚¹ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ¥‡ ì´ë²ˆë‹¬ ê°œì”¨ë¶€ë„ ìˆ í‚¹ ë­í‚¹</h3>
                <div id="drinkingRanking">
                    <!-- ë­í‚¹ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ìˆ ìë¦¬ ê¸°ë¡ -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ“ ê°œì”¨ë¶€ë„ ìˆ ìë¦¬ ê¸°ë¡</h3>
                    <button onclick="openDrinkModal()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì¶”ê°€</button>
                </div>
                <div id="drinkLogs">
                    <!-- ìˆ ìë¦¬ ê¸°ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ê°€ì¡±ë“¤ ì„¹ì…˜ -->
        <div id="friends" class="section">
            <h2 class="section-title">ğŸ‚ ê°œì”¨ë¶€ë„ ê°€ì¡±ë“¤</h2>
            
            <!-- ì´ë²ˆë‹¬ ìƒì¼ì -->
            <div class="card" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: white;">
                <h3 style="margin-bottom: 15px; text-align: center;">ğŸ‚ ì´ë²ˆë‹¬ ìƒì¼ìë“¤</h3>
                <div id="thisMonthBirthdays">
                    <!-- ì´ë²ˆë‹¬ ìƒì¼ìë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ê°€ì¡± ëª©ë¡ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ‘¥ ê°œì”¨ë¶€ë„ ê°€ì¡± ë©¤ë²„</h3>
                <div id="friendsList" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    <!-- ì¹œêµ¬ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ì¬ë¯¸ë‚œ í†µê³„ -->
            <div class="card">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ“Š ê°œì”¨ë¶€ë„ í†µê³„</h3>
                <div id="funStats">
                    <!-- í†µê³„ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <!-- ëœë¤ ì¹œêµ¬ ë½‘ê¸° -->
            <div class="card" style="text-align: center;">
                <h3 style="margin-bottom: 15px; color: #ff6b6b;">ğŸ² ì˜¤ëŠ˜ ëˆ„ê°€ ìˆ ê°’ ë‚¼ê¹Œ? ã…‹ã…‹</h3>
                <div id="randomFriend" style="font-size: 3rem; margin: 20px 0;">ğŸ¯</div>
                <div id="randomFriendName" style="font-size: 1.2rem; font-weight: 600; margin-bottom: 15px;">ìˆ ê°’ ë‚¼ í˜¸êµ¬ë¥¼ ë½‘ì•„ë³´ì„¸ìš”!</div>
                <button class="btn btn-primary" onclick="pickRandomFriend()">ğŸ² í˜¸êµ¬ ë½‘ê¸°!</button>
            </div>
        </div>

        <!-- íˆ¬í‘œ ê°¤ëŸ¬ë¦¬ ì„¹ì…˜ -->
        <div id="gallery" class="section">
            <h2 class="section-title">ğŸ“¸ ê°œì”¨ë¶€ë„ íˆ¬í‘œ ê°¤ëŸ¬ë¦¬</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ† ê°œì”¨ë¶€ë„ ì‚¬ì§„ ë­í‚¹ (íˆ¬í‘œ)</h3>
                    <button onclick="openGalleryPhotoModal()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì‚¬ì§„ ì¶”ê°€</button>
                </div>
                <div id="voteGallery">
                    <!-- íˆ¬í‘œ ì‚¬ì§„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ì¼ê¸°ì¥ ì„¹ì…˜ -->
        <div id="diary" class="section">
            <h2 class="section-title">ğŸ“ ê°œì”¨ë¶€ë„ ì¼ê¸°ì¥</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ“– ì˜¤ëŠ˜ ë­í–ˆë‚˜ìš”?</h3>
                    <button onclick="openDiaryModal()" style="background: linear-gradient(45deg, #4ecdc4, #44a08d); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ì¼ê¸° ì“°ê¸°</button>
                </div>
                <div id="diaryList">
                    <!-- ì¼ê¸°ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- ëª…ì–¸ì§‘ ì„¹ì…˜ -->
        <div id="quotes" class="section">
            <h2 class="section-title">ğŸ’¬ ê°œì”¨ë¶€ë„ ëª…ì–¸ì§‘</h2>
            
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #ff6b6b;">ğŸ’­ ë ˆì „ë“œ ëª…ì–¸ë“¤</h3>
                    <button onclick="openQuoteModal()" style="background: linear-gradient(45deg, #f093fb, #f5576c); color: white; border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.8rem; font-weight: 600; cursor: pointer;">+ ëª…ì–¸ ì¶”ê°€</button>
                </div>
                <div id="quotesList">
                    <!-- ëª…ì–¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

    </div>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="bottom-nav" id="bottomNav">
        <div class="nav-items">
            <div class="nav-item active" onclick="showSection('drinking')">
                <span class="icon">ğŸ»</span>
                <span>ê°œì”¨ë¶€ë„</span>
            </div>
            <div class="nav-item" onclick="showSection('friends')">
                <span class="icon">ğŸ‚</span>
                <span>ê°€ì¡±ë“¤</span>
            </div>
            <div class="nav-item" onclick="showSection('gallery')">
                <span class="icon">ğŸ“¸</span>
                <span>íˆ¬í‘œ</span>
            </div>
            <div class="nav-item" onclick="showSection('diary')">
                <span class="icon">ğŸ“</span>
                <span>ì¼ê¸°</span>
            </div>
            <div class="nav-item" onclick="showSection('quotes')">
                <span class="icon">ğŸ’¬</span>
                <span>ëª…ì–¸</span>
            </div>
        </div>
    </div>

    <script>
        console.log('ğŸ”¥ ê°œì”¨ë¶€ë„ ì›”ë“œ ë¡œë”© ì‹œì‘!');

        // ì§„ì… í•¨ìˆ˜
        function enterTheFuckingWorld() {
            console.log('ğŸš€ ê°œì”¨ë¶€ë„ ì›”ë“œ ì…ì¥ ë²„íŠ¼ í´ë¦­ë¨!');
            
            try {
                // ë©”ì¸ í™”ë©´ ìˆ¨ê¸°ê¸°
                const mainScreen = document.getElementById('mainScreen');
                console.log('ë©”ì¸ìŠ¤í¬ë¦° ìš”ì†Œ:', mainScreen);
                mainScreen.style.display = 'none';
                
                // ì»¨í…Œì´ë„ˆ ë³´ì´ê¸°
                const container = document.getElementById('mainContainer');
                console.log('ì»¨í…Œì´ë„ˆ ìš”ì†Œ:', container);
                container.classList.add('active');
                container.style.display = 'block';
                
                // ë„¤ë¹„ ë³´ì´ê¸°
                const topNav = document.getElementById('topNav');
                const bottomNav = document.getElementById('bottomNav');
                console.log('ë„¤ë¹„ ìš”ì†Œë“¤:', topNav, bottomNav);
                topNav.classList.add('active');
                bottomNav.classList.add('active');
                
                console.log('ğŸ‰ ì…ì¥ ì™„ë£Œ!');
                
            } catch (error) {
                console.error('ì…ì¥ ì¤‘ ì—ëŸ¬:', error);
                alert('ê°œì”¨ë¶€ë„! ì—ëŸ¬ë‚¬ë„¤ìš” ã…‹ã…‹ ìƒˆë¡œê³ ì¹¨ í•´ë³´ì„¸ìš”');
            }
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ”¥ DOM ë¡œë“œ ì™„ë£Œ! ê°œì”¨ë¶€ë„ ì›”ë“œ ì¤€ë¹„ë¨!');
            
            // ë²„íŠ¼ ì´ë²¤íŠ¸ ê°•ì œ ë“±ë¡
            const enterBtn = document.querySelector('.enter-btn');
            if (enterBtn) {
                console.log('âœ… ì…ì¥ ë²„íŠ¼ ì°¾ìŒ!');
                enterBtn.addEventListener('click', function(e) {
                    console.log('ğŸ¯ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ!');
                    e.preventDefault();
                    enterTheFuckingWorld();
                });
            } else {
                console.error('âŒ ì…ì¥ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ!');
            }
        });

        // ë°±ì—… ì§„ì… í•¨ìˆ˜ (ì „ì—­)
        window.enterTheFuckingWorld = function() {
            console.log('ğŸš€ ë°±ì—… ì§„ì… í•¨ìˆ˜ ì‹¤í–‰!');
            document.getElementById('mainScreen').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';
            document.getElementById('topNav').style.display = 'flex';
            document.getElementById('bottomNav').style.display = 'block';
        };

        // ë””ë²„ê¹…ìš©
        console.log('ğŸ”¥ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ!');
    </script>
</body>
</html>
